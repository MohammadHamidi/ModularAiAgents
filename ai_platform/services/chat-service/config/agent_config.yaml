# ============================================================================
# Chat Agent Configuration
# ============================================================================
# This file defines the agent's personality, behavior, and data extraction rules

# Agent Metadata
agent_name: "Default Chat Agent"
agent_version: "2.0"
description: "Helpful, accurate chatbot with intelligent memory"

# ============================================================================
# Personality & Instructions
# ============================================================================

# Main system prompt (agent's personality and core instructions)
system_prompt: |
  ØªÙˆ ÛŒÚ© Ú†Øªâ€ŒØ¨Ø§Øª Ù…ÙÛŒØ¯ Ø¨Ø§ Ø­Ø§ÙØ¸Ù‡ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù‡Ø³ØªÛŒ.

  ğŸ§  Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø­Ø§ÙØ¸Ù‡:
  Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø± Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ø§ ØªÚ¯ <internal_context>...</internal_context> Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯.
  Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‚Ø¨Ù„ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª. Ø§Ø² Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù† Ø§Ù…Ø§ Ù‡Ø±Ú¯Ø² Ø§ÛŒÙ† ØªÚ¯ Ø±Ø§ Ø¯Ø± Ù¾Ø§Ø³Ø®Øª ØªÚ©Ø±Ø§Ø± Ù†Ú©Ù†!
  
  ğŸ”´ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ø¯ÛŒØ¯ (Ø­ØªÙ…Ø§Ù‹ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡):
  Ù‡Ø± ÙˆÙ‚Øª Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø®ÙˆØ¯Ø´ Ú¯ÙØªØŒ ÙÙˆØ±Ø§Ù‹ Ø§Ø² Ø§Ø¨Ø²Ø§Ø± save_user_info Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†:
  - Ø§Ø³Ù… Ú¯ÙØª â†’ save_user_info(field_name="name", field_value="...")
  - Ø³Ù† Ú¯ÙØª (Ù…Ø«Ù„ "Û²Ûµ Ø³Ø§Ù„Ù…Ù‡" ÛŒØ§ "25 Ø³Ø§Ù„Ù‡ Ù‡Ø³ØªÙ…") â†’ save_user_info(field_name="age", field_value="25")
  - Ø´Ù‡Ø± Ú¯ÙØª â†’ save_user_info(field_name="location", field_value="...")
  - Ø´ØºÙ„ Ú¯ÙØª â†’ save_user_info(field_name="occupation", field_value="...")
  - Ø¹Ù„Ø§Ù‚Ù‡ Ú¯ÙØª â†’ save_user_info(field_name="interest", field_value="...")
  
  âš ï¸ Ù…Ù‡Ù…: Ù‡Ø±Ú¯Ø² Ù†Ú¯Ùˆ "Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù…" - ÙÙ‚Ø· Ø·Ø¨ÛŒØ¹ÛŒ Ø¬ÙˆØ§Ø¨ Ø¨Ø¯Ù‡.
  âš ï¸ Ù‡Ø±Ú¯Ø² ØªÚ¯ internal_context Ø±Ø§ Ø¯Ø± Ù¾Ø§Ø³Ø® Ù†Ø´Ø§Ù† Ù†Ø¯Ù‡!

  ğŸ­ Ø´Ø®ØµÛŒØª: Ø¯ÙˆØ³ØªØ§Ù†Ù‡ØŒ Ú©ÙˆØªØ§Ù‡ Ùˆ Ù…ÙÛŒØ¯
  ğŸŒ Ø²Ø¨Ø§Ù†: Ø¨Ø§ Ù‡Ù…Ø§Ù† Ø²Ø¨Ø§Ù† Ú©Ø§Ø±Ø¨Ø± Ù¾Ø§Ø³Ø® Ø¨Ø¯Ù‡

# Silent operation instructions (emphasized separately)
silent_operation_instructions: |
  âš ï¸ CRITICAL - Silent Operation Rules:

  Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØºÙ„Ø· (NEVER say these):
    âŒ "Ø¨Ø§Ø´Ù‡! Ø§Ø³Ù…Øª Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù…"
    âŒ "Ø§Ø·Ù„Ø§Ø¹Ø§ØªØª Ø±Ùˆ Ø«Ø¨Øª Ú©Ø±Ø¯Ù…"
    âŒ "I've saved your information"
    âŒ "Let me remember that"
    âŒ "I'll store that for later"

  Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØµØ­ÛŒØ­ (DO say these):
    âœ… "Ø³Ù„Ø§Ù… Ù…Ø­Ù…Ø¯! Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆÙ†Ù… Ú©Ù…Ú©Øª Ú©Ù†Ù…ØŸ"
    âœ… "Ø®ÙˆØ´Ø­Ø§Ù„Ù… Ú©Ù‡ Ø¢Ø´Ù†Ø§ Ø´Ø¯ÛŒÙ…!"
    âœ… "Ú†Ù‡ Ø®Ø¨Ø± Ø§Ù…Ø±ÙˆØ²ØŸ"

  ÛŒØ§Ø¯Øª Ø¨Ø§Ø´Ù‡: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² save_user_info Ø¨Ø§ÛŒØ¯ Ú©Ø§Ù…Ù„Ø§Ù‹ Ù†Ø§Ù…Ø­Ø³ÙˆØ³ Ø¨Ø§Ø´Ù‡!

# Tool usage instructions (how to use save_user_info)
tool_usage_instructions: |
  ğŸ”§ Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ø¨Ø²Ø§Ø± save_user_info:

  Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†:
    save_user_info(field_name='<field>', field_value='<value>')

  Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ú†Ù†Ø¯ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ø¯Ø± ÛŒÚ© Ù¾ÛŒØ§Ù… Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒ.
  ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø¯Ø± Ø¨Ø®Ø´ user_data_fields ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.

# ============================================================================
# User Data Extraction Configuration
# ============================================================================

user_data_fields:
  # Name field
  - field_name: name
    normalized_name: user_name
    description: "User's name (first name, full name, or nickname)"
    examples:
      - "Ù…Ø­Ù…Ø¯"
      - "Mohammad"
      - "Sara"
    data_type: string
    enabled: true

  # Age field
  - field_name: age
    normalized_name: user_age
    description: "User's age in years"
    examples:
      - "25"
      - "Û²Ûµ"
      - "thirty"
    data_type: integer
    validation:
      min: 1
      max: 120
    enabled: true

  # Location field
  - field_name: location
    aliases: [city, place, country]
    normalized_name: user_location
    description: "User's location (city, country, or region)"
    examples:
      - "ØªÙ‡Ø±Ø§Ù†"
      - "Tehran"
      - "New York"
      - "Iran"
    data_type: string
    enabled: true

  # Occupation field
  - field_name: occupation
    aliases: [job, profession, work]
    normalized_name: user_occupation
    description: "User's job, profession, or occupation"
    examples:
      - "Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³"
      - "developer"
      - "teacher"
      - "engineer"
    data_type: string
    enabled: true

  # Interests field (accumulates as list)
  - field_name: interest
    aliases: [hobby, like, passion]
    normalized_name: user_interests
    description: "User's interests, hobbies, or things they like"
    examples:
      - "ÙÙˆØªØ¨Ø§Ù„"
      - "football"
      - "reading"
      - "music"
    data_type: list
    accumulate: true  # Add to existing list instead of replacing
    enabled: true

  # Language preference
  - field_name: language
    aliases: [language_preference, lang, preferred_language]
    normalized_name: preferred_language
    description: "User's preferred language for communication"
    examples:
      - "fa"
      - "en"
      - "ar"
    data_type: string
    validation:
      allowed_values: [fa, en, ar, es, fr, de, zh, ja, ru]
    enabled: true

  # Email (disabled by default for privacy)
  - field_name: email
    normalized_name: user_email
    description: "User's email address"
    examples:
      - "user@example.com"
    data_type: string
    validation:
      pattern: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
    enabled: false  # Disabled - set to true if needed

  # Phone (disabled by default for privacy)
  - field_name: phone
    aliases: [phone_number, mobile, cell]
    normalized_name: user_phone
    description: "User's phone number"
    examples:
      - "+989123456789"
      - "09123456789"
    data_type: string
    enabled: false  # Disabled - set to true if needed

  # Education level
  - field_name: education
    aliases: [degree, education_level, study]
    normalized_name: user_education
    description: "User's education level or field of study"
    examples:
      - "Computer Science"
      - "Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ"
      - "PhD"
    data_type: string
    enabled: false  # Optional - enable if needed

  # Company/Organization
  - field_name: company
    aliases: [organization, employer, workplace]
    normalized_name: user_company
    description: "User's company or organization"
    examples:
      - "Google"
      - "Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ ØªÙ‡Ø±Ø§Ù†"
    data_type: string
    enabled: false  # Optional - enable if needed

# ============================================================================
# Context Display Configuration
# ============================================================================

# How to display user information in system prompts
context_display:
  enabled: true
  header: "ğŸ“‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± (User Information):"
  format: "bullet"  # Options: bullet, table, inline

  # Field labels (for display in context)
  field_labels:
    user_name: "Ù†Ø§Ù… (Name)"
    user_age: "Ø³Ù† (Age)"
    user_location: "Ù…ÙˆÙ‚Ø¹ÛŒØª (Location)"
    user_occupation: "Ø´ØºÙ„ (Occupation)"
    user_interests: "Ø¹Ù„Ø§ÛŒÙ‚ (Interests)"
    preferred_language: "Ø²Ø¨Ø§Ù† ØªØ±Ø¬ÛŒØ­ÛŒ (Preferred Language)"
    user_email: "Ø§ÛŒÙ…ÛŒÙ„ (Email)"
    user_phone: "ØªÙ„ÙÙ† (Phone)"
    user_education: "ØªØ­ØµÛŒÙ„Ø§Øª (Education)"
    user_company: "Ù…Ø­Ù„ Ú©Ø§Ø± (Company)"

  # Language code display names
  language_names:
    fa: "ÙØ§Ø±Ø³ÛŒ"
    en: "English"
    ar: "Ø¹Ø±Ø¨ÛŒ"
    es: "EspaÃ±ol"
    fr: "FranÃ§ais"
    de: "Deutsch"
    zh: "ä¸­æ–‡"
    ja: "æ—¥æœ¬èª"
    ru: "Ğ ÑƒÑÑĞºĞ¸Ğ¹"

# ============================================================================
# Recent Messages Context Configuration
# ============================================================================

recent_messages_context:
  enabled: true
  count: 2  # Number of recent user messages to include
  max_length: 150  # Max characters per message before truncation
  header: "ğŸ’¬ Ø¢Ø®Ø±ÛŒÙ† Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± (Last User Messages):"

# ============================================================================
# Model & Performance Configuration
# ============================================================================

model_config:
  default_model: "gemini-2.5-flash-lite-preview-09-2025"
  temperature: 0.7
  max_turns: 12
  max_tokens: null  # null = no limit

# ============================================================================
# Privacy & Security Configuration
# ============================================================================

privacy:
  # TTL for user data (seconds) - null = no expiration
  data_ttl: 14400  # 4 hours

  # Auto-delete sensitive fields after session ends
  auto_delete_sensitive_fields: false

  # List of fields considered sensitive
  sensitive_fields:
    - user_email
    - user_phone

  # Require explicit consent for certain fields
  require_consent_for:
    - user_email
    - user_phone

# ============================================================================
# Experimental Features
# ============================================================================

experimental:
  # Use LLM to infer additional context (mood, intent, etc.)
  infer_user_state: false

  # Automatically summarize long conversations
  auto_summarize_conversations: false

  # Proactive suggestions based on user data
  proactive_suggestions: false
